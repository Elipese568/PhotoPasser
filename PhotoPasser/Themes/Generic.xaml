<ResourceDictionary
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:local="using:PhotoPasser"
    xmlns:controls="using:PhotoPasser.Controls"
 xmlns:win2d="using:Microsoft.Graphics.Canvas.UI.Xaml" xmlns:conv="using:PhotoPasser.Converters">

    <ItemsPanelTemplate x:Key="TrumbullViewPanel">
        <local:AdaptiveWrapPanel HorizontalSpacing="8" VerticalSpacing="8"/>
    </ItemsPanelTemplate>
    <ItemsPanelTemplate x:Key="TilesViewPanel">
        <ItemsWrapGrid Orientation="Horizontal"/>
    </ItemsPanelTemplate>
    <ItemsPanelTemplate x:Key="DetailsViewPanel">
        <ItemsStackPanel HorizontalAlignment="Left"/>
    </ItemsPanelTemplate>

    <Style TargetType="controls:ZoomableImageView">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:ZoomableImageView">
                    <Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ControlPanelShown">
                                <VisualState x:Name="ShowPanel">
                                    <VisualState.Storyboard>
                                        <Storyboard x:Name="ShowAni">
                                            <DoubleAnimation Storyboard.TargetName="ControlTransform" Storyboard.TargetProperty="Y" From="15" To="0" Duration="0:0:0.30">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuarticEase/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="ControlPanel" Storyboard.TargetProperty="Opacity" From="0.0" To="1.0" Duration="0:0:0.30">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuarticEase/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </VisualState.Storyboard>
                                </VisualState>
                                <VisualState x:Name="HidePanel">
                                    <VisualState.Storyboard>
                                        <Storyboard x:Name="HideAni">
                                            <DoubleAnimation Storyboard.TargetName="ControlTransform" Storyboard.TargetProperty="Y" From="0" To="15" Duration="0:0:0.30">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuarticEase/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetName="ControlPanel" Storyboard.TargetProperty="Opacity" From="1.0" To="0.0" Duration="0:0:0.30">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuarticEase/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </VisualState.Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <win2d:CanvasControl
                                x:Name="PART_Canvas"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"/>
                        <Grid x:Name="ControlPanel" Margin="15" Opacity="0.0" HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
                            <Grid.RenderTransform>
                                <TranslateTransform x:Name="ControlTransform" Y="15"/>
                            </Grid.RenderTransform>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="2*" MinWidth="318"/>
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0" Padding="12" ColumnSpacing="4" HorizontalAlignment="Stretch" BorderBrush="{ThemeResource ControlStrokeColorForAAFillOnImage}" BorderThickness="1" Background="{ThemeResource AcrylicInAppFillColorDefaultBrush}" CornerRadius="{ThemeResource OverlayCornerRadius}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Button x:Name="PART_ZoomOutButton" Grid.Column="0" Width="40" Height="40" Style="{StaticResource SubtleButtonStyle}">
                                    <FontIcon Glyph="&#xE71F;" FontSize="16" />
                                </Button>
                                <Slider x:Name="PART_ScaleSlider" Grid.Column="1" StepFrequency="0.1" Value="1.0" Minimum="0.1" Maximum="8"/>
                                <Button Name="PART_ZoomInButton" Width="40" Grid.Column="2" Height="40" Style="{StaticResource SubtleButtonStyle}">
                                    <FontIcon Glyph="&#xE8A3;" FontSize="16" />
                                </Button>
                            </Grid>
                            <Grid Grid.Column="2" Padding="12" ColumnSpacing="4" HorizontalAlignment="Right" BorderBrush="{ThemeResource ControlStrokeColorForAAFillOnImage}" BorderThickness="1" Background="{ThemeResource AcrylicInAppFillColorDefaultBrush}" CornerRadius="{ThemeResource OverlayCornerRadius}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Button x:Name="PART_CounterclockwiseFlipButton" Grid.Column="0" Width="40" Height="40" Style="{StaticResource SubtleButtonStyle}">
                                    <FontIcon Glyph="&#xE80C;" FontSize="16"  />
                                </Button>
                                <Button x:Name="PART_UniformButton" Grid.Column="1" Width="40" Height="40" Style="{StaticResource SubtleButtonStyle}">
                                    <Grid>
                                        <FontIcon Glyph="&#xE9A6;" FontSize="16"  />
                                        <FontIcon Glyph="&#xE915;" FontSize="16"  />
                                    </Grid>
                                </Button>
                                <Button Name="PART_ClockwiseFlipButton" Width="40" Grid.Column="2" Height="40" Style="{StaticResource SubtleButtonStyle}">
                                    <FontIcon Glyph="&#xE80D;" FontSize="16"  />
                                </Button>
                            </Grid>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <conv:UriImageSourceConverter x:Key="UriImageSourceConverter"/>
    <DataTemplate x:Key="PhotoTransitionStyledItem">
        <Grid Width="150" VerticalAlignment="Stretch" CornerRadius="{StaticResource OverlayCornerRadius}">
            <Image Source="{Binding Path, Converter={StaticResource UriImageSourceConverter}}"/>
            <Rectangle HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <LinearGradientBrush.GradientStops>
                            <GradientStop Color="{ThemeResource CardBackgroundFillColorSecondaryTransparent}" Offset="0.0"/>
                            <GradientStop Color="{ThemeResource CardBackgroundFillColorSecondaryTransparent}" Offset="0.5"/>
                            <GradientStop Color="{ThemeResource CardBackgroundFillColorSecondarySoild}" Offset="0.8"/>
                            <GradientStop Color="{ThemeResource CardBackgroundFillColorSecondarySoild}" Offset="1"/>
                        </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                </Rectangle.Fill>
            </Rectangle>
            <TextBlock Text="{Binding UserName}" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="8" Style="{ThemeResource CaptionTextBlockStyle}"/>
        </Grid>
    </DataTemplate>
</ResourceDictionary>
